<!DOCTYPE html>
<html>
  <head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TZFTMQ7');</script>
<!-- End Google Tag Manager -->

    <meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, minimum-scale=1.0">
<title>Dapps</title>

  <meta name="description" content="For those looking to build apps on Aion blockchain, this section's for you. We'll take you through <strong>setting up an Aion node, smart contracts, and more advanced configuration.">


<link rel="icon" type="image/png" sizes="32x32" href="https://aion.network/material/views/aion/assets/img/favicon/favicon-32x32.png">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,500,500i,700,700i|Noto+Sans:400,400i,700,700i|Source+Code+Pro&amp;subset=latin-ext">
<link rel="stylesheet" href="../doks-theme/assets/css/style.css">

  </head>

  <body class="" data-spy="scroll" data-target=".js-scrollspy" data-gr-c-s-loaded="true">
  <div class="offcanvas visible-xs">
    <ul class="offcanvas__nav">


        <li><a href="../index.html">Docs <i class="icon icon--home"></i></a></li>
        <li><a href="../Mining/index.html">Mining</a></li>
        <li><a href="../Dapp Development/index.html">Dapps</a></li>
        <li><a href="../Account Management/index.html">Account</a></li>
        <li><a href="https://github.com/aionnetwork">Github</a></li>


    </ul><!-- /.offcanvas__nav -->
  </div>
  <header class="site-header">
    <div class="container">
      <div class="row">
        <div class="col-xs-12">
          
            <a href="https://aion.network/" class="site-header__logo"><img src="../doks-theme/assets/images/layout/logo.png"></a>
          
            <ul style="color:white" class="site-header__nav hidden-xs">
              
              <li><a href="../index.html">Docs <i class="icon icon--home"></i></a></li>
              <li><a href="../Mining/index.html">Mining</a></li>
              <li><a href="../Dapp Development/index.html">Dapps</a></li>
              <li><a href="../Account Management/index.html">Account</a></li>
              <li><a href="https://github.com/aionnetwork">Github</a></li>

            </ul><!-- /.site-header__nav -->
            <button class="offcanvas-toggle visible-xs">
              <span></span>
              <span></span>
              <span></span>
            </button><!-- /.offcanvas-toggle -->
          
        </div><!-- /.col -->
      </div><!-- /.row -->
    </div><!-- /.container -->
    


    <div class="hero-subheader hero-subheader--before-out">
      <div class="container">
        <div class="row">
          <div class="col-md-7">
            <div class="align-container" data-mh>
              <div class="align-inner">

                  <h1 class="hero-subheader__title">Dapp Development</h1>

              </div><!-- /.align-inner -->

            </div><!-- /.align-container -->
          </div><!-- /.col -->

        </div><!-- /.row -->
      </div><!-- /.container -->
    </div><!-- /.hero-subheader -->



    <div class="section">
      <div class="container">

        <div class="row">
        <div class="col-md-4">
          <div class="sections-list-wrapper">
            <div class="sections-list js-sections js-affix js-scrollspy hidden-xs hidden-sm"></div><!-- /.sections-list -->
          </div>
        </div><!-- /.col -->
          <div class="col-md-7">
            <div class="content">



<h2 id="dapp-dev-overview">Dapp Development Overview</h2>
<p>This guide will take you through some more advanced configuration for Aion. It is meant for those with some programming background, but not necessarily on blockchain.</p>
<div class="callout callout--info">
    <p><strong>Migration</strong>If you are already developing on blockchain, but wish to explore building on Aion or migrate your dapp to Aion, you can skip over to the <a href="index.html#dapp-migration">migration section.</a></p>
</div>
<p>In this guide, we'll be going over:</p>
<ul>
  <li>setting up the development environment</li>
  <li>compiling, deploying, and testing smart contracts</li>
  <li>error handling</li>
  <li>migrating dapps</li>
</ul>
  <h3><strong>Prerequisites:</strong></h3>
  <p> Before we begin, make sure you have the following:</p>
  <ul>
    <li><a href="http://releases.ubuntu.com/16.04/" target="blank">Ubuntu 16.04</a> (<a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0" target="blank">desktop installation tutorial</a>)</li>
  </ul>
  <div class="callout callout--warning">
    <p><strong>Note</strong>Currently the compiler binary is built for 64-bit Ubuntu 16.04, other versions of Ubuntu may not be fully compatible.</p>
</div>


<h2 id="dapp-smart-contracts">Smart Contracts in Aion</h2>
  <h3 id="dapp-intro-sc"><strong>Intro to Smart Contracts</strong></h3>
  <p> This section will cover the components to build a dapp on Aion - including environment set-up and compiling, deploying, and testing a smart contract.</p>
  <div class="callout callout--success">
    <p><strong>Green Boxes (Demo Dapp)</strong>You'll also notice these green boxes numbered 1-4 in this section - following the instructions within each of the four boxes will walk you through compiling and deploying your own smart contract. By the end of this Smart Contracts section, you will have created a simple counter dapp. Watch out for these steps:
  <ul>
    <li><p><a href="index.html#dapp-set-up">Step 1:</a> Set Up Aion Testing Environment</p></li>
    <li><p><a href="index.html#dapp-compile">Step 2:</a> Compile</p></li>
    <li><p><a href="index.html#dapp-deploy">Step 3:</a> Deploy</p></li>
    <li><p><a href="index.html#dapp-test">Step 4:</a> Test</p></li>
  </ul></p>
  </div>

  <h3 id="dapp-set-up"><strong>Set Up Aion Testing Environment</strong></h3>
  <p>For testing and dapp development purposes, you should configure the downloaded aion binary to be running the testnet.json file as the genesis file, and modify the config.xml to run internal mining in an independent blockchain. The following demo dapp step will specify how to set up your Aion testing environment.</p>
<div class="callout callout--success">
    <p><strong>Step 1. (Demo Dapp)</strong> Set up testnet, create an account, and get balance on your account.<br><br>
    1. Download and extract the most recent Aion binary file <a href="https://github.com/aionnetwork/aion/releases" target="blank">aion-{version}.tar.bz2</a><br>2. Navigate to the aion/config folder and open <b>config.xml</b>:<br>
    <ul><li><p>i. delete all the connected nodes in the &lt;nodes&gt; section</p></li></ul></p>
      <div class="example"></div>
<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">&lt;nodes&gt;  &lt;/nodes&gt;</span><span class="pi"></span></code></pre></div></div>

<ul><li><p>ii. set &lt;mining&gt; to true in the &lt;consensus&gt; section to enable internal mining</p></li></ul>

<div class="example"></div>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">&lt;consensus&gt;</span>
  <span class="na">&lt;mining&gt;true&lt;/mining&gt;</span>
<span class="na">&lt;consensus&gt;</span>
</code></pre></div></div>

<ul><li><p>iii. navigate back to the config folder, and rename <b>testnet.json</b> to 'genesis.json' and the original <b>genesis.json</b> to something else (this step is used for testing and private networks)</p></li></ul>

<p>3. Create an account (steps <a href="../Mining/index.html#creating-accounts" target="blank">here</a>)<br>4. Get balance on your account<ul><li><p>i. navigate back to the (new) aion/config/genesis.json file</p></li></ul><ul><li><p>ii. replace one of the current addresses in the "alloc" object with your newly created account address</p></li></ul><p>
5. make sure to have saved all the changed files<p></p>
  </div>


  <h3 id="dapp-compile"><strong>Compile</strong></h3>
  <p>Before you can deploy your contract, you’ll need two things (which you will get by compiling the contract):<br><br>1. Compiled ‘code’ - bytecode<br>2. Application Binary Interface (ABI) – JavaScript Object that defines how the machine is to interact with the contract</p>
  
<div class="callout callout--success">
    <p><strong>Step 2. (Demo Dapp)</strong>Configure your smart contract for compiling<br><br>
      1.Download or clone the demo app <a href="index.html" target="blank">repository[FIX THIS LINK!]</a><br>
2. Navigate to the demo-app/src directory and check that you have a contracts folder containing the <b>counter.sol</b> file. We will be deploying the counter.sol contract.<br>3. Navigate back to the demo-app directory, and <code class="highlighter-rouge">npm install</code> (once installed you don't have to do it again)<br>4. Open <b>deploy_counter.js</b> file and make the following changes:
<ul><li><p>line 8: edit directory where your aion/web3 is located in (from home, or check the directory using the <code class="highlighter-rouge">pwd</code>  command)</p></li></ul>
<ul><li><p>line 26: edit a0 to the index number your address is in (you can find this in web3 console -> <a href="../Mining/index.html#view-accounts-wc" target="blank">personal.listAccounts</a>). Remember that the list is indexed at "0"</p></li></ul>
<ul><li><p>line 27: edit pw0 = “Password associated with account address”</p></li></ul>
<p>5. Make sure to save all changed files</p>

  </div>



  <h3 id="dapp-deploy"><strong>Deploy</strong></h3>
  <p>Deploying your smart contract through the deploy function requires a contract address, ABI, the code, and an unlocked account.</p>

  <div class="callout callout--success">
    <p><strong>Step 3. (Demo Dapp)</strong>Deploy the smart contract<br><br>
1. Navigate to the demo-app/src directory in terminal (<code class="highlighter-rouge">npm install</code> if it’s the first time)<br>2. Then run : <code class="highlighter-rouge">node deploy_counter.js</code><br>This script deploys the counter.sol contract and outputs and address, save this contract address for testing purposes.<p>
  </div>

  <div class="callout callout--warning">
    <p><strong>Note</strong> The provided repository for the demo app automatically unlocks your account. However, in practice you will not be able to deploy your smart contract without having unlocked your account either manually or in code. Steps to manually unlock your account can be found <a href="../Mining/index.html#unlock-account" target="blank">here.</a></p>
  </div>

  <h3 id="dapp-test"><strong>Test</strong></h3>
  <p>During the testing phase you will need to interact with your Smart contract through web3 API, and by calling functions and getters.</p>
<div class="callout callout--success">

    <p><strong>Step 4. (Demo Dapp)</strong><br>
1. Navigate to demo-app/src/interact_counter.js and open the file<br>2. Make the same changes as in the Deploy script, modifing web3 directory, account, and password:
<ul><li><p>line 7: edit directory where your aion/web3 is located in (from home, or check the directory using the pwd command)</p></li></ul>
<ul><li><p>line 25: edit a0 to the index number your address is in (you can find this in web3 console -> <a href="../Mining/index.html#view-accounts-wc" target="blank">personal.listAccounts</a>). Remember that the list is indexed at "0"</p></li></ul>
<ul><li><p>line 26: edit pw0 = “Password associated with account address”</p></li></ul><p>
3. Open terminal and run the command: <br><code class="highlighter-rouge">node interact_counter.js {contractAddress}</code><br>4. Now you can interact and test your dapp through the console! Use the following commands (note that that blocks get sealed by default around every 10 seconds, so your transactions will not show up immediately)</p>
<table>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">getCount</code></td>
      <td style="text-align: left">receive current count</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">incrementCounter</code></td>
      <td style="text-align: left">increase counter by 1</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">decrementCounter</code></td>
      <td style="text-align: left">decrease counter by 1</td>
    </tr>
</tbody>
</table>

  </div>

  <h3 id="dapp-error-handling"><strong>Error Handling</strong></h3>
  <p>This section will cover common issues one may face during the compiling, deployment, and testing of their smart contract. There are sections of the config/config.xml file that can be edited to show debug/error issues pertaining ot API, VM, transactions, etc. if you wish to understand more about the kernel log.</p> 


<table>
  <thead>
    <tr>
      <th style="text-align: left">Issue</th>
      <th style="text-align: left">Possible fix</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>No changes occur in kernel after configuration</strong></td>
      <td style="text-align: left">Delete the <strong>database</strong> folder and restart the kernel (should be done every time there is a change in the config files)</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Error output "file can't be found"</strong></td>
      <td style="text-align: left">Insure your web3 file path is correct (use the <code class="highlighter-rouge">pwd</code> command if necessary)</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Error output "cannot find readline-sync"</strong></td>
      <td style="text-align: left">Make sure to <code class="highlighter-rouge">npm install</code> before deploying the smart contract for the first time</td>
    </tr>
</tbody>
</table>


<h2 id="dapp-migration">Migration</h2>
<p>This section will cover how to develop or migrate an existing dapp from Ethereum to Aion, and the tools that can be used to do so.</p>
<h3>Why build on Aion?</h3>
  <ul>
    <li>run applications faster and cheaper</li>
    <li>source level compatibilty for Solidity contracts</li>
    <li>simple migration</li>
  </ul>

<h3>Migrating from Ethereum</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Differences</th>
      <th style="text-align: left">Ethereum</th>
      <th style="text-align: left">Aion</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Data Word</strong></td>
      <td style="text-align: left">256 bits</td>
      <td style="text-align: left">128 bits</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Local Variable Count</strong></td>
      <td style="text-align: left">16 data word (256 bits)</td>
      <td style="text-align: left">16 data word (128 bits)</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>int, uint Size</strong></td>
      <td style="text-align: left">uint8-uint256<br>int8-int256</td>
      <td style="text-align: left">uint8-uint128<br>int8-int128</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Inline Assembly</strong></td>
      <td style="text-align: left">Supported</td>
      <td style="text-align: left">Not Supported (currently)</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong> </strong></td>
      <td style="text-align: left">20 bytes</td>
      <td style="text-align: left">32 bytes</td>
    </tr>
</tbody>
</table>





<h2 id="dapp-FAQ">FAQ</h2>

  <h4 id="d-q1"><strong>How do you configure the system to be working on a local node/private blockchain?</strong></h4>
  <p>Access the config/config.xml file, and edit in the following ways:</p>
  <ul>
    <li>remove all nodes in the &lt;nodes&gt; section to run the kernel locally</li>
    <li>connect to a private network by putting the desired node IPs in the &lt;nodes&gt; section</li>
  </ul>

  <h4 id="d-q2"><strong>What are the ideal nrg values for smart contract deployment and transaction execution on Aion?</strong>strong></h4>
  <table>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Deployment</strong></td>
      <td style="text-align: left">&gt;= 2M 'gas'</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Transaction executions</strong></td>
      <td style="text-align: left">&lt;= 2M 'gas'</td>
    </tr>
  </tbody>
  </table>

  <h4 id="d-q3"><strong>How do you assign balance to addresses for transaction testing purposes?</strong></h4>
  <p>There are two general ways in which you can assign balance for testing purposes:</p>
  <ul>
    <li>when initially creating the accounts (see <a href="../Mining/index.html#creating-accounts" target="blank">Creating an account</a>), replace the new accounts into the genesis / keystore files and remove the <b>database</b> folder to restart the kernel (the changes made to the genesis file will not come into effect otherwise)</li>
    <p>&emsp;&ensp;&nbsp;<strong>or</strong></p>
    <li>transfer balance using an existing account from the genesis account to new account via <a href="../Mining/index.html#run-web3-console" target="blank">web3 calls</a></li> 
  </ul>

  <h4 id="d-q4"><strong>How do I configure the genesis.json to run in the testnet, and get balance on my account?</strong></h4>
  <p>Navigate to the config folder, and note that there are currently two .json files:</p>
  <ul>
    <li>genesis.json</li>
    <li>testnet.json</li> 
  </ul>
  <p>Then, rename <strong>genesis.json</strong> to anything of your choice, and rename <strong>testnet.json</strong> to 'genesis.json'.<br><br>You can then get balance on your account for testing purposes by:<br><br>1. <a href="../Mining/index.html#creating-accounts" target="blank">Creating an account</a><br>2. Navigate to the newly-named "genesis.json" (that was originally testnet.json), and add your accounts in the "alloc" object.<br>3. Check your account balances using <a href="../Mining/index.html#run-web3-console" target="blank">web3 calls</a></p>

  <div class="callout callout--warning">
    <p><strong>Note</strong>Remember to remove the <b>database</b> folder before running kernel for these changes to take effect.</p>
  </div>

   <h4 id="d-q5"><strong>How do I verify that my account has balance?</strong></h4>
   <p>Please refer to this section on <a href="../Mining/index.html#view-accounts-wc" target="blank">viewing accounts and balances</a>.</p>

            </div><!-- /.content -->
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container -->
    </div><!-- /.section -->

    <div class="js-footer-area">


  <!-- begin footer -->
<footer id="footer">
    <div class="footer-content">

    <img id="platty-footer" src="https://aion.network/material/views/aion/assets/img/platty_footer.png">

    <div id="footer-top">
      
      </div>
    </div>

    <div id="footer-bottom">
      <div class="copyright-message"><p>This is the internet, <strong>decentralized</strong>.</p>
<p>- Aion Foundation</p>
</div>
      <img id="curve-footer" src="https://aion.network/material/views/aion/assets/img/curve_footer.png">
    </div>

  </div>
  </footer>

  <!-- end footer-->


<script src="../doks-theme/assets/js/vendor/jquery.min.js"></script>
<script type="text/javascript" src="../doks-theme/assets/js/vendor/bootstrap/affix.min.js"></script>
<script type="text/javascript" src="../doks-theme/assets/js/vendor/bootstrap/scrollspy.min.js"></script>
<script type="text/javascript" src="../doks-theme/assets/js/vendor/matchHeight.min.js"></script>
<script type="text/javascript" src="../doks-theme/assets/js/scripts.js"></script>




    </div><!-- /.js-footer-area -->
  </body>
</html>
</p>
</div>