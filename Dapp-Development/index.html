<!DOCTYPE html>
<html>
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TZFTMQ7');</script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0">
    <title>Aion - DApp Development</title>

    <meta name="description" content="For those looking to build apps on Aion blockchain, this section's for you. We'll take you through <strong>setting up an Aion node, smart contracts, and more advanced configuration.">


    <link rel="icon" type="image/png" sizes="32x32" href="https://aion.network/material/views/aion/assets/img/favicon/favicon-32x32.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,500,500i,700,700i|Noto+Sans:400,400i,700,700i|Source+Code+Pro&amp;subset=latin-ext">
    <link rel="stylesheet" href="../doks-theme/assets/css/style.css">
  </head>

  <body class="" data-spy="scroll" data-target=".js-scrollspy" data-gr-c-s-loaded="true">
  <div class="offcanvas visible-xs">
    <ul class="offcanvas__nav">


        <li><a href="../index.html">Docs <i class="icon icon--home"></i></a></li>
        <li><a href="../Mining/index.html">Mining</a></li>
        <li><a href="../Dapp-Development/index.html">DApps</a></li>
        <li><a href="../Account Management/index.html">Account</a></li>
        <li><a href="https://github.com/aionnetwork">Github</a></li>


    </ul><!-- /.offcanvas__nav -->
  </div>
  <header class="site-header">
    <div class="container">
      <div class="row">
        <div class="col-xs-12">

            <a href="https://aion.network/" class="site-header__logo" target="_blank"><img src="../doks-theme/assets/images/layout/logo.png"></a>

            <ul style="color:white" class="site-header__nav hidden-xs">

              <li><a href="../index.html">Docs <i class="icon icon--home"></i></a></li>
              <li><a href="../Mining/index.html">Mining</a></li>
              <li><a href="../Dapp-Development/index.html">DApps</a></li>
              <li><a href="../Account Management/index.html">Account</a></li>
              <li><a href="https://github.com/aionnetwork">Github</a></li>

            </ul><!-- /.site-header__nav -->
            <button class="offcanvas-toggle visible-xs">
              <span></span>
              <span></span>
              <span></span>
            </button><!-- /.offcanvas-toggle -->

        </div><!-- /.col -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <!-- HEADER -->
    <div class="hero-subheader hero-subheader--before-out">
      <div class="container">
        <div class="row">
          <div class="col-md-7">
            <div class="align-container" data-mh>
              <div class="align-inner">

                  <h1 class="hero-subheader__title">DApp Development</h1>

              </div><!-- /.align-inner -->

            </div><!-- /.align-container -->
          </div><!-- /.col -->

        </div><!-- /.row -->
      </div><!-- /.container -->
    </div><!-- /.hero-subheader -->
    <!-- /HEADER -->

    <!-- DAPP DEVELOPMENT OVERVIEW -->
    <div class="section">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <div class="sections-list-wrapper">
              <div class="sections-list js-sections js-affix js-scrollspy hidden-xs hidden-sm"></div><!-- /.sections-list -->
            </div>
          </div><!-- /.col -->

          <div class="col-md-7">
            <div class="content">
              <h2 id="dapp-dev-overview">DApp Development Overview</h2>
              <p>This guide will take you through on how to configure your Aion blockchain, as well as deploying and interacting with a smart contract on Aion. It is meant for those who have some programming knowledge, but not necessarily blockchain.</p>

              <div class="callout callout--info">
                <p>
                  <strong>Migration</strong>
                  If you are already familiar on building DApps on a blockchain but are looking to build or migrate a DApp onto Aion, you can jump down to the <a href="index.html#dapp-migration">migration section.</a></p>
              </div>
              <p>In this guide, we will be covering:</p>
              <ol>
                <li>Setting up the development environment</li>
                <li>Compiling, deploying, and interacting with a smart contract</li>
                <li>Error handling</li>
                <li>Migrating from Ethereum</li>
              </ol>

              <h3><strong>Prerequisites:</strong></h3>
              <p> Before we begin, make sure you have the following:</p>
              <ul>
                <li><a href="http://releases.ubuntu.com/16.04/" target="blank">Ubuntu 16.04</a> (<a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0" target="blank">desktop installation tutorial</a>)</li>
              </ul>
              <div class="callout callout--warning">
                <p>
                  <strong>Note</strong>
                  Currently the compiler binary is built for 64-bit Ubuntu 16.04, other versions of Ubuntu may not be fully compatible.
                </p>
              </div>

            <!-- SMART CONTRACTS ON AION -->
              <h2 id="dapp-smart-contracts">Smart Contracts on Aion</h2>
              <h3 id="dapp-intro-sc"><strong>Intro to Smart Contracts</strong></h3>
              <p> This section will cover the components to build a DApp on Aion. This includes environment set-up and compiling, deploying, and interacting with a smart contract.</p>
              <div class="callout callout--success">
                <p>
                  <strong>Demo DApp Tutorial</strong>
                  You'll notice these green boxes numbered 1-4 in this section. Following the instructions within each of the four boxes will walk you through compiling and deploying your own smart contract. By the end of this Smart Contracts section, you will have created a simple counter DApp. Look for these steps:
                  <ol>
                    <li><p><a href="index.html#dapp-set-up">Setting up a Local Development Environment</a></p></li>
                    <li><p><a href="index.html#dapp-compile">Compiling the Smart Contract</a> </p></li>
                    <li><p><a href="index.html#dapp-deploy">Deploying the Smart Contract</a> </p></li>
                    <li><p><a href="index.html#dapp-test">Interacting with the Smart Contract</a></p></li>
                  </ol>
                </p>
              </div>

            <!-- SETTING UP LOCAL DEVELOPMENT ENVIRONMENT -->
              <h3 id="dapp-set-up"><strong>Setting up a Local Development Environment</strong></h3>
              <p>For testing and DApp development purposes, you should configure the downloaded aion binary to be running the <b>testnet.json</b> file as the genesis file, and modify the <b>config.xml</b> to run internal mining for a local blockchain. The following demo DApp step will specify how to set up your Aion development environment.</p>

              <div class="callout callout--success">
                <p><strong>[ 1 ] Environment Setup</strong>
                  Set up a local node, create an account, and get balance on your account.
                  <!-- <br><br> -->
                  <ol>
                    <li>
                      <p>Download and extract the most recent Aion binary file <a href="https://github.com/aionnetwork/aion/releases" target="blank">aion-{version}.tar.bz2</a></p>
                    </li>

                    <li>
                      <p>Navigate to the aion/config folder and open <b>config.xml</b></p>
                      <ul>
                        <li>Delete all the seed nodes in the &lt;nodes&gt; section</li>
                        <div class="example"></div>
                        <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">&lt;nodes&gt;<br>&lt;/nodes&gt;</span><span class="pi"></span></code></pre></div></div>

                        <li><p>Set &lt;mining&gt; to true in the &lt;consensus&gt; section to enable internal mining</p></li>
                        <div class="example"></div>
                        <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">&lt;consensus&gt;</span><br />  <span class="na">&lt;mining&gt;true&lt;/mining&gt;</span><br /><span class="na">&lt;consensus&gt;</span>
                        </code></pre></div></div>

                        <li><p>Navigate back to the config folder, and rename <b>'testnet.json'</b> to <b>'genesis.json'</b>, and the original <b>'genesis.json'</b> to a different file name (This lowers the difficulty of the network for testing & development purposes)</p></li>
                      </ul>
                    </li>

                    <li>
                      <p>Create an account [<a href="../Mining/index.html#creating-accounts" target="blank">Steps</a>]</p>
                    </li>

                    <li>
                      <p>Get balance in your account</p>
                      <ul>
                        <li><p>Open the <b>genesis.json</b> file</p></li>
                        <li><p>Replace one of the current addresses in the "alloc" object with your newly created account address</p></li>
                        <li>
                          <p>
                            <b>Note:</b>
                            For genesis to take in effect, make sure there is no database/ folder (delete if necessary)
                          </p>
                        </li>
                      </ul>
                    </li>
                  </ol>
                </p>
              </div>

            <!-- COMPILING THE SMART CONTRACT -->
              <h3 id="dapp-compile"><strong>Compiling the Smart Contract</strong></h3>
              <p>Before deploying the smart contract, we’re going to need to compile our solidity code into an interface (ABI) and bytecode (bin) to allow us to deploy the contract on the blockchain.
                <ul>
                  <li><p><strong>Application Binary Interface (ABI):</strong> JavaScript Object that defines how the machine is to interact with the contract</p></li>

                  <li><p><strong>Bytecode:</strong> Compiled ‘code’</p></li>
                </ul>
              </p>

              <div class="callout callout--success">
                <p>
                  <strong>[ 2 ] Compiling a Smart Contract</strong>
                  Configure your smart contract for compiling.
                  <ol>
                    <li>
                      <p>Download or clone the demo app <a href="index.html" target="blank">repository [FIX THIS LINK!]</a></p>
                    </li>
                    <li>
                      <p>Navigate into the demo-app directory and <code class="highlighter-rouge">npm install</code> (This command installs all the packages we'll need - you can find the dependencies in the <b>package.json</b> file)</p>
                    </li>
                    <li>
                      <p>Navigate to the demo-app/src directory and check that you have a contracts folder containing the <b>Counter.sol</b> file</p>
                    </li>
                    <li>
                      <p>
                        Open <b>deploy_counter.js</b> file and make the following changes:
                        <ul>
                          <li>
                            <p>line 8: edit directory path to where your aion/web3 is located (from home, or check the directory using the <code class="highlighter-rouge">pwd</code>  command)</p>
                          </li>
                          <li>
                            <p>line 26: edit a0 to the index number your address is in (you can find this in web3 console -> <a href="../Mining/index.html#view-accounts-wc" target="blank">personal.listAccounts</a>).
                              <br />
                              <b>Note:</b>
                              Lists are indexed starting at 0</p>
                          </li>
                          <li>
                            <p>
                              line 27: edit pw0 = “password associated with account address”
                            </p>
                          </li>
                        </ul>
                      </p>
                    </li>
                  </ol>
                </p>
              </div>


            <!-- DEPLOYING THE SMART CONTRACT -->
              <h3 id="dapp-deploy"><strong>Deploying the Smart Contract</strong></h3>
              <p>
                To deploy the smart contract, you will need the contract ABI and bytecode as mentioned <a href="#dapp-compile">above</a>, and an unlocked account with balance.
              </p>
              <div class="callout callout--success">
                <p>
                  <strong>[ 3 ] Deploying a Smart Contract</strong>
                  Running a script to deploy the smart contract.
                  <ol>
                    <li>
                      <p>Navigate to the demo-app/src directory in terminal</p>
                    </li>
                    <li>
                      <p>Run script: <code class="highlighter-rouge">node deploy_counter.js</code></p>
                    </li>
                  </ol>

                  This script deploys the Counter.sol contract and outputs the <b>contract address</b>.
                  <br><br />
                  <b>Note:</b> Save this contract address for testing and interacting with this specific contract instance.
                </p>
              </div>

              <div class="callout callout--warning">
                <p><strong>Note</strong> The provided repository for the demo app automatically unlocks your account. However, in practice you will not be able to deploy your smart contract without having unlocked your account either manually or in code. Steps to manually unlock your account can be found <a href="../Mining/index.html#unlock-account" target="blank">here</a>.</p>
              </div>

            <!-- INTERACTING WITH THE SMART CONTRACT -->
              <h3 id="dapp-test"><strong>Interacting with the Smart Contract</strong></h3>
              <p>
                Once deployed, you will want to make function calls to the smart contract. We will be interacting with the smart contract via the web3 API by calling functions and getters.
              </p>
              <div class="callout callout--success">
                <p>
                  <strong>[ 4 ] Interacting with a Smart Contract</strong>
                  Make function calls to a deployed smart contract instance. You will need the contract address and an unlocked account with balance.
                  <ol>
                    <li>
                      <p>Navigate to demo-app/src/ and open the <b>interact_counter.js</b> file</p>
                    </li>
                    <li>
                      <p>Make the same changes as in the Deploy script, modifing web3 directory, account, and password:</p>
                      <ul>
                        <li>
                          <p>line 8: edit directory path to where your aion/web3 is located (from home, or check the directory using the <code class="highlighter-rouge">pwd</code>  command)</p>
                        </li>
                        <li>
                          <p>line 26: edit a0 to the index number your address is in (you can find this in web3 console -> <a href="../Mining/index.html#view-accounts-wc" target="blank">personal.listAccounts</a>).
                            <br />
                            <b>Note:</b>
                            Lists are indexed starting at 0</p>
                        </li>
                        <li>
                          <p>
                            line 27: edit pw0 = “password associated with account address”
                          </p>
                        </li>
                      </ul>
                    </li>

                    <li>
                      <p>
                        In the terminal and run the script: <br><code class="highlighter-rouge">node interact_counter.js {contractAddress}</code>
                      </p>
                    </li>
                    <li>
                      <p>Now you can interact and test your DApp through the console! Use the following commands: (Remember that that blocks get sealed by default around every 10 seconds, so your transactions will not show up immediately)</p>
                    </li>
                  </ol>
                </p>
                <table>
                  <tbody>
                    <tr>
                      <td style="text-align: left"><code class="highlighter-rouge">getCount</code></td>
                      <td style="text-align: left">Receive current count status</td>
                    </tr>
                    <tr>
                      <td style="text-align: left"><code class="highlighter-rouge">incrementCounter</code></td>
                      <td style="text-align: left">Increase counter by 1</td>
                    </tr>
                    <tr>
                      <td style="text-align: left"><code class="highlighter-rouge">decrementCounter</code></td>
                      <td style="text-align: left">Decrease counter by 1</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <h3 id="dapp-error-handling"><strong>Error Handling</strong></h3>
              <p>
                This section will cover common issues one may face during the compilation, deployment, and interaction with their smart contract.
              </p>
              <p>
                You can configure the <b>config.xml</b> file to show debug/error issues pertaining ot API, VM, transactions, etc. if you wish to understand more about the kernel log.
              </p>
              <table>
                <thead>
                  <tr>
                    <th style="text-align: left">Issue</th>
                    <th style="text-align: left">Possible fix</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left"><strong>No changes occur in kernel after configuration</strong></td>
                    <td style="text-align: left">Delete the <strong>database</strong> folder and restart the kernel. This allows the modified configurations to take effect.</td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><strong>Error output "file can't be found"</strong></td>
                    <td style="text-align: left">Ensure your web3 file path is correct (use the <code class="highlighter-rouge">pwd</code> command if necessary)</td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><strong>Error output "cannot find readline-sync"</strong></td>
                    <td style="text-align: left">Make sure to <code class="highlighter-rouge">npm install</code> in the main directory before deploying the smart contract for the first time</td>
                  </tr>
                </tbody>
              </table>

            <!-- MIGRATION -->
              <h2 id="dapp-migration">Migration</h2>
              <p>This section will cover how to develop or migrate an existing DApp from Ethereum to Aion, and the tools that can be used to do so.</p>
              <h3>Why build on Aion?</h3>
                <ul>
                  <li>run applications faster and cheaper</li>
                  <li>source level compatibilty for Solidity contracts</li>
                  <li>simple migration</li>
                </ul>
            <!-- MIGRATING FROM ETHEREUM -->
              <h3>Migrating from Ethereum</h3>
              <table>
                <thead>
                  <tr>
                    <th style="text-align: left">Differences</th>
                    <th style="text-align: left">Ethereum</th>
                    <th style="text-align: left">Aion</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td style="text-align: left"><strong>Data Word</strong></td>
                    <td style="text-align: left">256 bits</td>
                    <td style="text-align: left">128 bits</td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><strong>Local Variable Count</strong></td>
                    <td style="text-align: left">16 data word (256 bits)</td>
                    <td style="text-align: left">16 data word (128 bits)</td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><strong>int, uint Size</strong></td>
                    <td style="text-align: left">uint8 - uint256<br>int8 - int256</td>
                    <td style="text-align: left">uint8 - uint128<br>int8 - int128</td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><strong>Inline Assembly</strong></td>
                    <td style="text-align: left">Supported</td>
                    <td style="text-align: left">Not Supported (currently)</td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><strong>Address</strong></td>
                    <td style="text-align: left">20 bytes</td>
                    <td style="text-align: left">32 bytes</td>
                  </tr>
                </tbody>
              </table>

            <!-- FAQ -->
              <h2 id="dapp-FAQ">FAQ</h2>
              <h4 id="d-q1"><strong>How do you configure the system to be working on a local node/private blockchain?</strong></h4>
              <p>Navigate to aion/config/ folder and open then <b>config.xml</b> file, and edit in the following ways:</p>
              <ul>
                <li>Remove all nodes in the &lt;nodes&gt; section to run the kernel locally</li>
                <li>Connect to a private network by putting the desired node IPs in the &lt;nodes&gt; section</li>
              </ul>

              <h4 id="d-q2"><strong>What are the ideal NRG values for smart contract deployment and transaction execution on Aion?</strong></h4>
              <table>
                <tbody>
                  <tr>
                    <td style="text-align: left"><strong>Deployment</strong></td>
                    <td style="text-align: left">&gt;= 2M 'gas'</td>
                  </tr>
                  <tr>
                    <td style="text-align: left"><strong>Transaction executions</strong></td>
                    <td style="text-align: left">&lt;= 2M 'gas'</td>
                  </tr>
                </tbody>
              </table>

              <h4 id="d-q3"><strong>How do you assign balance to addresses for transaction testing purposes?</strong></h4>
              <p>There are two general ways in which you can assign balance for testing purposes:</p>
              <ol>
                <li>
                  <p>
                    When initially creating the accounts (see <a href="../Mining/index.html#creating-accounts" target="blank">Creating an Account</a>), replace the new accounts into the genesis / keystore files, delete the <b>database</b> folder, then re-run the kernel (changes made to the genesis file will not come into effect otherwise)
                  </p>
                </li>
                <li>
                  <p>
                    Transfer balance using an existing account from the genesis account to new account via <a href="../Mining/index.html#run-web3-console" target="blank">web3 calls</a>
                  </p>
                </li>
              </ol>

              <h4 id="d-q4"><strong>How do I configure the genesis.json to run in the testnet, and get balance on my account?</strong></h4>
              <p>Navigate to the aion/config folder, and you'll notice that there are initially two <b>.json</b> files:</p>
              <ul>
                <li>
                  <p><strong>genesis.json</strong></p></li>
                <li>
                  <p><strong>testnet.json</strong></p>
                </li>
              </ul>
              <p>
                You will need to rename the <strong>genesis.json</strong> to a different file name, and rename <strong>testnet.json</strong> to <b>'genesis.json'</b>.
              </p>
              <p>
                You can then get balance on your account for testing purposes by:
                <ol>
                  <li>
                    <p><a href="../Mining/index.html#creating-accounts" target="blank">Creating an Account</a><br></p>
                  </li>
                  <li>
                    <p>
                      Navigate to the newly-named "genesis.json" (that was originally testnet.json), and add your accounts in the "alloc" object.
                    </p>
                  </li>
                  <li>
                    <p>
                      Check your account balances using <a href="../Mining/index.html#run-web3-console" target="blank">web3 calls</a>.
                    </p>
                  </li>
                </ol>
              </p>

              <div class="callout callout--warning">
                <p><strong>Note</strong>Remember to remove the <b>database</b> folder, then re-run the kernel for these changes to take effect.</p>
              </div>

              <h4 id="d-q5"><strong>How do I verify that my account has balance?</strong></h4>
              <p>Please refer to this section on <a href="../Mining/index.html#view-accounts-wc" target="blank">viewing accounts and balances</a>.</p>

            </div><!-- /.content -->
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container -->
    </div><!-- /.section -->

    <!-- FOOTER -->
    <div class="js-footer-area">
      <footer id="footer">
        <div class="footer-content">
          <img id="platty-footer" src="https://aion.network/material/views/aion/assets/img/platty_footer.png">
          <div id="footer-top">
          </div>
        </div>

        <div id="footer-bottom">
          <div class="copyright-message"><p>This is the internet, <strong>decentralized</strong>.</p>
            <p>- Aion Foundation</p>
          </div>
          <img id="curve-footer" src="https://aion.network/material/views/aion/assets/img/curve_footer.png">
        </div>
      </footer>
    </div>
  <!-- END FOOTER-->

  <!-- SCRIPTS -->
    <script src="../doks-theme/assets/js/vendor/jquery.min.js"></script>
    <script type="text/javascript" src="../doks-theme/assets/js/vendor/bootstrap/affix.min.js"></script>
    <script type="text/javascript" src="../doks-theme/assets/js/vendor/bootstrap/scrollspy.min.js"></script>
    <script type="text/javascript" src="../doks-theme/assets/js/vendor/matchHeight.min.js"></script>
    <script type="text/javascript" src="../doks-theme/assets/js/scripts.js"></script>
  <!-- END SCRIPTS -->
  </body>
</html>
